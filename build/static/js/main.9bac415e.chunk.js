(this["webpackJsonpwbdv-20s1-team18-client-react"]=this["webpackJsonpwbdv-20s1-team18-client-react"]||[]).push([[0],{24:function(e,t,a){e.exports=a(40)},29:function(e,t,a){},30:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(22),o=a.n(r),c=(a(29),a(30),a(1)),l=a(2),i=a(9),u=a(4),m=a(3),h=function(e){return fetch("https://api.trakt.tv/search/movie?query="+e,{method:"GET",headers:{"content-type":"application/json","trakt-api-version":2,"trakt-api-key":"bc999a4f47069a533f0c8820ec7897e5d5ef6395c977b5935a52d3a2b013a600"}}).then((function(e){return e.json()}))},p=function(e){return fetch("https://api.trakt.tv/search/show?query="+e,{method:"GET",headers:{"content-type":"application/json","trakt-api-version":2,"trakt-api-key":"bc999a4f47069a533f0c8820ec7897e5d5ef6395c977b5935a52d3a2b013a600"}}).then((function(e){return e.json()}))},d=function(e){return fetch("https://api.themoviedb.org/3/find/".concat(e,"?api_key=54fa45f317f011fa4fd57c4d1840485c&language=en-US&external_source=imdb_id")).then((function(e){return e.json()}))},f=function(){return fetch("http://localhost:8080/api/profile",{credentials:"include"}).then((function(e){return e.json()})).catch((function(e){console.log(e)})).then((function(e){return e}))},v=a(5),b=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).createNewDiscussion=function(){return e={imdbId:n.props.show.ids.imdb},fetch("http://localhost:8080/api/discussions",{method:"POST",body:JSON.stringify(e),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}));var e},n.addShow=function(){fetch("http://localhost:8080/api/users/".concat(n.props.currentUser.id,"/shows"),{method:"POST",body:JSON.stringify({imdbId:n.props.show.ids.imdb}),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},n.state={userId:"",show:{imdbId:"",userId:""},loggedOut:!0},n.createNewDiscussion=n.createNewDiscussion.bind(Object(i.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return s.a.createElement("tr",{key:this.props.show.key},s.a.createElement("td",{className:"text-md-left"},s.a.createElement(v.b,{to:"/result/".concat(this.props.show.ids.imdb)},this.props.show.title),this.props.currentUser&&s.a.createElement("div",{className:"float-right"},s.a.createElement("button",{onClick:this.addShow,className:"btn btn-outline-primary",type:"button"},"Add Show"))))}}]),a}(s.a.Component),E=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("table",{className:"table table-striped table-hover\r table-bordered"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"text-md-left"},s.a.createElement("label",null,"Results")))),s.a.createElement("tbody",null,this.props.shows.map((function(t){return s.a.createElement(b,{key:t.ids.trakt,show:t,currentUser:e.props.currentUser})}))))))}}]),a}(s.a.Component),g=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getCurrentUser=function(){return f().then((function(e){n.setState({user:e})}))},n.findMovies=function(e){h(e).then((function(t){n.setState({movies:t}),n.findSeries(e)}))},n.findSeries=function(e){p(e).then((function(e){n.setState({series:e}),n.getShows()}))},n.getShows=function(){var e=n.state.movies.map((function(e){return e.movie})),t=n.state.series.map((function(e){return e.show}));n.setState({shows:e.concat(t)}),console.log(n.state.shows)},n.state={search_query:"",movies:[],series:[],shows:[],user:null},n.getCurrentUser=n.getCurrentUser.bind(Object(i.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.match.params.query?this.findMovies(this.props.match.params.query):this.findMovies(""),this.getCurrentUser()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{className:"form-control",type:"form-control",placeholder:"Search for shows",value:this.state.search_query,onChange:function(t){return e.setState({search_query:t.target.value})},onKeyPress:function(t){console.log(t.key),"Enter"===t.key&&(e.props.history.push("/search/".concat(e.state.search_query)),e.findMovies(e.state.search_query))}}),s.a.createElement(v.b,{to:"/search/".concat(this.state.search_query)},s.a.createElement("div",{className:"input-group-append"},s.a.createElement("button",{className:"btn btn-outline-success",onClick:function(){e.findMovies(e.state.search_query)}},s.a.createElement("i",{className:"fa fa-search"}))))),s.a.createElement(E,{shows:this.state.shows,currentUser:this.state.user}))}}]),a}(s.a.Component),y=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={result:{},poster_path:""},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.imdb_id;fetch("https://api.themoviedb.org/3/find/".concat(t,"?api_key=").concat("54fa45f317f011fa4fd57c4d1840485c","&language=en-US&external_source=imdb_id")).then((function(e){return e.json()})).then((function(t){e.setState({result:t.movie_results[0],poster_path:"https://image.tmdb.org/t/p/w200"+t.movie_results[0].poster_path})}))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h1",null,this.state.result.title," ("+this.state.result.release_date+")"),s.a.createElement("img",{src:this.state.poster_path,alt:"Poster"}),s.a.createElement("h4",null,this.state.result.vote_average),s.a.createElement("p",null,this.state.result.overview))}}]),a}(s.a.Component),w=a(7),N=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={poster:"",title:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;null!=this.props._id&&d(this.props._id).then((function(t){return e.setState({poster:"https://image.tmdb.org/t/p/w200".concat(t.movie_results[0].poster_path),title:t.movie_results[0].title})}))}},{key:"setSelected",value:function(){this.props.mobileView?this.props.history.push("/result/".concat(this.props._id)):this.props.history.push("/profile/".concat(this.props.layout,"/").concat(this.props._id))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"card p-1 m-0 col-4 col-sm-4 col-md-3 col-lg-3",id:"foundShowContainer",style:{width:135,marginRight:10,marginBottom:10}},s.a.createElement("a",{href:this.props.mobileView?"/result/".concat(this.props._id):"/profile/".concat(this.props.layout,"/").concat(this.props._id)},s.a.createElement("img",{src:this.state.poster,className:"img-fluid img-responsive image",alt:this.state.title,onClick:function(){return e.setSelected()}})))}}]),a}(s.a.Component),j=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).capitalize=function(e){return"string"!==typeof e?"":"watchlist"!==e||"group"!==e||"posts"!==e?"Watchlist":e.charAt(0).toUpperCase()+e.slice(1)},n.state={},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("h2",{className:"float-left"},this.capitalize(this.props.layout))),s.a.createElement("div",{className:"row container ml-0 p-0"},this.props.shows.map((function(t){return s.a.createElement(N,{mobileView:e.props.mobileView,layout:e.props.layout,key:t.imdbId,_id:t.imdbId})}))))}}]),a}(s.a.Component),O=function(e){return s.a.createElement("div",null,s.a.createElement("div",{className:"form-row"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h5",{className:"text-left"},"Progress")),s.a.createElement("div",{className:"col-4"},s.a.createElement("h6",{className:"text-right text-muted mt-2"},"156 Episodes"))),s.a.createElement("div",{className:"progress",style:{height:25}},s.a.createElement("div",{className:"progress-bar progress-bar-striped bg-info progress-bar-animated w-25",role:"progressbar","aria-valuenow":"75","aria-valuemin":"0","aria-valuemax":"100"},s.a.createElement("h6",{style:{marginTop:5}},"Episode 32"))),s.a.createElement("div",null,s.a.createElement("button",{className:"mt-3 btn btn-sm btn-outline-success float-left"},"Update Progress"),s.a.createElement("button",{className:"mt-3 btn btn-sm btn-outline-danger float-right"},"Remove Show")))},k=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).findDiscussionId=function(){return(e=n.props._id,fetch("http://localhost:8080/api/shows/".concat(e)).then((function(e){return e.json()}))).then((function(e){n.setState({discussionId:e.id})}));var e},n.state={poster:"",title:"",description:""},n.findDiscussionId=n.findDiscussionId.bind(Object(i.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.findDiscussionId(),d(this.props._id).then((function(t){return e.setState({poster:"https://image.tmdb.org/t/p/w200".concat(t.movie_results[0].poster_path),title:t.movie_results[0].title,description:t.movie_results[0].overview})}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"card position-fixed w-25 ml-5"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("h5",{className:"card-title"},this.state.title),s.a.createElement(v.b,{to:"/profile/".concat(this.props.layout)},s.a.createElement("i",{className:"fa fa-times text-danger"}))),s.a.createElement("p",{className:"card-text"},this.state.description),s.a.createElement(v.b,{to:"/discussions/".concat(this.props._id)},s.a.createElement("button",{className:"btn btn-primary btn-block mt-2 mb-3"},"Go to Discussion Board")),"watchlist"===this.props.layout&&s.a.createElement(O,null),"wishlist"===this.props.layout&&s.a.createElement("button",{className:"btn btn-outline-warning"},"Start Watching")))}}]),a}(s.a.Component),S=function(e){return s.a.createElement("div",null,"watchlist"===e.layout&&s.a.createElement("ul",{className:"nav nav-tabs flex-column flex-sm-row block"},s.a.createElement("li",{className:"nav-item"},s.a.createElement(v.b,{to:"/profile/watchlist",className:"nav-link active"},"Watchlist")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(v.b,{to:"/profile/group",className:"nav-link"},"Group")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(v.b,{to:"/profile/posts",className:"nav-link"},"Posts"))),"group"===e.layout&&s.a.createElement("ul",{className:"nav nav-tabs flex-column flex-sm-row block"},s.a.createElement("li",{className:"nav-item"},s.a.createElement(v.b,{to:"/profile/watchlist",className:"nav-link"},"Watchlist")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(v.b,{to:"/profile/group",className:"nav-link active"},"Group")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(v.b,{to:"/profile/posts",className:"nav-link"},"Posts"))),"posts"===e.layout&&s.a.createElement("ul",{className:"nav nav-tabs flex-column flex-sm-row block"},s.a.createElement("li",{className:"nav-item"},s.a.createElement(v.b,{to:"/profile/watchlist",className:"nav-link"},"Watchlist")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(v.b,{to:"/profile/group",className:"nav-link"},"Group")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(v.b,{to:"/profile/posts",className:"nav-link active"},"Posts"))))},C=function(e){return s.a.createElement("div",null,s.a.createElement("a",{href:"/search/".concat(e.genre),className:"badge badge-secondary bg-info wbdv-favorite-genre-tag"},e.genre))},I=a(13),x=a.n(I),P=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).findPostsForUser=function(){return(e=n.props.userId,fetch("http://localhost:8080/api/users/".concat(e,"/posts")).then((function(e){return e.json()}))).then((function(e){console.log(e),n.setState({posts:e}),console.log(n.state.posts)}));var e},n.state={posts:[]},n.findPostsForUser=n.findPostsForUser.bind(Object(i.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.findPostsForUser()}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.posts.map((function(e){return s.a.createElement("div",{key:e.id},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header"},"Username Here"),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"card-text"},e.message))))})))}}]),a}(s.a.Component),_=(a(35),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={user:{},watchGroup:{},members:[],groupLeaderId:"",hasGroup:!1,editingTitle:!1,title:"",userQuery:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://wbdv-team18-final-project.herokuapp.com/api/profile",{method:"POST",credentials:"include"}).then((function(e){return console.log(e),e.json()})).catch((function(e){})).then((function(t){null!=t&&(e.setState({user:t}),fetch("https://wbdv-team18-final-project.herokuapp.com/api/users/".concat(t.id,"/group")).then((function(e){return e.json()})).catch((function(e){})).then((function(t){null!=t&&(e.setState({watchGroup:t,hasGroup:!0,groupLeaderId:t.leaderId}),fetch("https://wbdv-team18-final-project.herokuapp.com/api/groups/".concat(t.id,"/users")).then((function(e){return e.json()})).then((function(t){e.setState({members:t})})))})))}))}},{key:"createGroup",value:function(e,t){var a=this;fetch("https://wbdv-team18-final-project.herokuapp.com/api/groups",{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(t){fetch("https://wbdv-team18-final-project.herokuapp.com/api/users/".concat(e,"/group"),{method:"PUT",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(t){a.setState({watchGroup:t,hasGroup:!0,groupLeaderId:e})}))}))}},{key:"findUser",value:function(e){var t=this;fetch("https://wbdv-team18-final-project.herokuapp.com/api/groups/".concat(this.state.watchGroup.id,"/users/").concat(e),{method:"PUT",headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(a){fetch("https://wbdv-team18-final-project.herokuapp.com/api/users/".concat(e,"/group"),{method:"PUT",body:JSON.stringify(t.state.watchGroup),headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t.setState({watchGroup:e,userQuery:""})})).finally(t.props.history.push("/profile/group"))}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,this.state.hasGroup&&s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6"},s.a.createElement("div",{className:"float-left"},s.a.createElement("h4",null,this.state.watchGroup.name)),this.state.groupLeaderId===this.state.user.id&&s.a.createElement("button",{className:"btn ml-1"},s.a.createElement("i",{className:"fa fa-pencil"}))),s.a.createElement("div",{className:"col-6"},this.state.groupLeaderId===this.state.user.id&&s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{className:"form-control",type:"form-control",placeholder:"Enter User ID",value:this.state.userQuery,onChange:function(t){return e.setState({userQuery:t.target.value})}}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("a",{href:"/profile/group"},s.a.createElement("button",{onClick:function(){return e.findUser(e.state.userQuery)},className:"btn btn-outline-success"},"Add Member"))))),s.a.createElement("div",{className:"col-5"},s.a.createElement("h6",null,"Group Members"),s.a.createElement("ul",{className:"list-group list-group-flush"},this.state.members.map((function(t){return s.a.createElement("li",{className:"list-group-item"},s.a.createElement(v.b,{to:t.id===e.state.user.id?"/profile/watchlist":"/profile/".concat(t.id)},t.id===e.state.groupLeaderId?"Group Leader: ":"Member: ",t.id===e.state.user.id?"(You) ".concat(t.username):t.username),e.state.groupLeaderId===e.state.user.id&&s.a.createElement("button",{className:"btn btn-danger btn-sm float-right"},s.a.createElement("i",{className:"fa fa-user-times"})))})))),s.a.createElement("div",{className:"col-7"},s.a.createElement("h6",null,"Group Watchlist"))),!this.state.hasGroup&&s.a.createElement("div",null,s.a.createElement("button",{onClick:function(){return e.createGroup(e.props.userId,e.state.user)},className:"btn btn-secondary mb-2"},"Create Group")))}}]),a}(s.a.Component)),U=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).logout=function(){fetch("http://localhost:8080/api/logout",{method:"POST",credentials:"include"}).then((function(e){return n.props.history.push("/")}))},n.state={username:"",password:"",userId:"",visiting:"watchlist"!==n.props.match.params.layout&&"group"!==n.props.match.params.layout&&"posts"!==n.props.match.params.layout,favoriteGenres:["action","comedy","fantasy","sci-fi","anime"],watchlist:[],groups:[],posts:[],showId:n.props.match.params.showId,layout:n.props.match.params.layout},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.state.visiting?(this.setState({userId:this.state.layout}),fetch("http://localhost:8080/api/users/".concat(this.state.layout)).catch((function(e){return console.log(e)})).then((function(e){return e.json()})).then((function(t){return e.setState({username:t.username})})).then((function(t){return fetch("http://localhost:8080/api/users/".concat(e.state.layout,"/shows")).then((function(e){return e.json()})).then((function(t){return e.setState({watchlist:t})})).then((function(t){return fetch("http://localhost:8080/api/users/".concat(e.state.layout,"/groups")).then((function(e){return e.json()})).then((function(t){return e.setState({groups:t})})).then((function(t){return console.log(e.state.groups)}))}))}))):fetch("http://localhost:8080/api/profile",{method:"POST",credentials:"include"}).then((function(e){return console.log("profile comp response below"),console.log(e),e.json()})).catch((function(t){e.props.history.push("/")})).then((function(t){t&&(console.log("entered conditional"),e.setState({username:t.username,password:t.password,userId:t.id}))})).then((function(t){return fetch("http://localhost:8080/api/users/".concat(e.state.userId,"/shows")).then((function(e){return e.json()})).then((function(t){return e.setState({watchlist:t})}))}))}},{key:"componentDidUpdate",value:function(e,t,a){e.match.params.showId!==this.props.match.params.showId&&this.setState({showId:this.props.match.params.showId}),e.match.params.layout!==this.props.match.params.layout&&this.setState({layout:this.props.match.params.layout})}},{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2"},s.a.createElement("i",{className:"fa fa-user-circle-o mt-2",style:{fontSize:80}})),s.a.createElement("div",{className:"col-lg-10 col-md-10 col-sm-10"},s.a.createElement("div",{className:"d-flex {/*justify-content-between*/}"},s.a.createElement("h2",null,this.state.username),"info"!==this.props.match.params.layout&&!this.state.visiting&&s.a.createElement("a",{href:"/profile/info"},s.a.createElement("button",{className:"btn btn-outline-info btn-sm w-auto ml-4 mt-2"},"Edit Profile")),!this.state.visiting&&s.a.createElement("button",{onClick:this.logout,className:"btn btn-sm btn-outline-danger w-auto h-75 ml-2 mt-2"},"Logout")),s.a.createElement("p",{className:"m-0"},"Top 5 Genres"),s.a.createElement("div",{className:"row pl-3"},this.state.favoriteGenres.map((function(e){return s.a.createElement(C,{genre:e})}))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 mt-3"},s.a.createElement(S,{layout:this.state.layout}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-7"},s.a.createElement("br",null),s.a.createElement(x.a,{query:"(min-width: 1024px)"},s.a.createElement("div",null,"watchlist"===this.state.layout&&s.a.createElement(j,Object.assign({},this.props,{mobileView:!1,layout:this.state.layout,shows:this.state.watchlist})),this.state.visiting&&s.a.createElement(j,Object.assign({},this.props,{mobileView:!0,layout:this.state.layout,shows:this.state.watchlist})))),s.a.createElement(x.a,{query:"(max-width: 1023px)"},s.a.createElement("div",null,"watchlist"===this.state.layout&&s.a.createElement(j,Object.assign({},this.props,{mobileView:!0,layout:this.state.layout,shows:this.state.watchlist})),this.state.visiting&&s.a.createElement(j,Object.assign({},this.props,{mobileView:!0,layout:this.state.layout,shows:this.state.watchlist}))))),s.a.createElement("div",{className:"col-lg-5"},this.state.showId&&s.a.createElement(k,Object.assign({},this.props,{layout:this.state.layout,_id:this.state.showId,key:this.state.showId})))),"group"===this.state.layout&&s.a.createElement("span",null),"posts"===this.state.layout&&s.a.createElement("span",null,s.a.createElement(P,{userId:this.state.userId})))}}]),a}(s.a.Component),D=function(){return s.a.createElement("div",null,s.a.createElement("nav",{className:"nav navbar-light bg-white justify-content-between fixed-top wbdv-site-nav-bar"},s.a.createElement("div",{className:"navbar-header"},s.a.createElement("a",{className:"navbar-brand",href:"/"},"What Are We Watching")),s.a.createElement("ul",{className:"nav nav-pills d-none d-sm-flex"},s.a.createElement("li",{className:"nav-item"},s.a.createElement(v.b,{to:"/search",className:"nav-link",role:"button","aria-haspopup":"true","aria-expanded":"false"},s.a.createElement("i",{className:"fa fa-search"}))),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{href:"/profile/watchlist",className:"nav-link",role:"button","aria-haspopup":"true","aria-expanded":"false"},s.a.createElement("i",{className:"fa fa-user"}))),s.a.createElement("li",{className:"nav-item"},s.a.createElement(v.b,{to:"/registration",className:"nav-link",role:"button","aria-haspopup":"true","aria-expanded":"false"},"Register")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(v.b,{to:"/login",className:"btn btn-outline-success my-2 my-sm-0",type:"submit"},"Login")))),s.a.createElement("div",{className:"container nav-2 d-sm-none d-flex justify-content-center"},s.a.createElement("ul",{className:"nav nav-pills nav-fill"},s.a.createElement("li",{className:"active"},s.a.createElement("a",{href:"#"},"Search")),s.a.createElement("li",{className:""},s.a.createElement("a",{href:"#"},"Discussions")),s.a.createElement("li",{className:""},s.a.createElement("a",{href:"#"},"Profile")))))},G=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).update=function(){fetch("http://localhost:8080/api/profile",{body:JSON.stringify({username:n.state.username,password:n.state.password,role:n.state.role,firstName:n.state.firstName,lastName:n.state.lastName,email:n.state.email}),headers:{"content-type":"application/json"},method:"PUT",credentials:"include"}).then((function(e){return e.json()})).then((function(e){return n.setState({username:e.username,password:e.password})}))},n.state={username:"",password:"",role:"",firstName:"",lastName:"",email:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8080/api/profile",{method:"POST",credentials:"include"}).then((function(e){return console.log(e),e.json()})).catch((function(t){e.props.history.push("/")})).then((function(t){t&&e.setState({username:t.username,password:t.password,role:t.role,firstName:t.firstName,lastName:t.lastName,email:t.email})}))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{className:"col-sm-2 col-form-label",htmlFor:"username"}," Username "),s.a.createElement("div",{className:"col-sm-10"},s.a.createElement("input",{id:"username",type:"text",readOnly:!0,className:"form-control wbdv-field wbdv-username",placeholder:this.state.username,value:this.state.username})))),s.a.createElement("div",null,s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{className:"col-sm-2 col-form-label",htmlFor:"password"}," Password "),s.a.createElement("div",{className:"col-sm-10"},s.a.createElement("input",{id:"password",type:"password",value:this.state.password,className:"form-control wbdv-field wbdv-password"})))),s.a.createElement("div",null,s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{className:"col-sm-2 col-form-label",htmlFor:"role"}," Role "),s.a.createElement("div",{className:"col-sm-10"},s.a.createElement("select",{className:"form-control wbdv-field wbdv-role",disabled:"true",id:"role"},s.a.createElement("option",{selected:"LEADER"===this.state.role,value:"LEADER"},"Group Leader"),s.a.createElement("option",{selected:"MEMBER"===this.state.role,value:"MEMBER"},"Member"))))),s.a.createElement("div",null,s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{className:"col-sm-2 col-form-label",htmlFor:"firstName"}," First Name "),s.a.createElement("div",{className:"col-sm-10"},s.a.createElement("input",{id:"firstName",type:"text",value:this.state.firstName,className:"form-control wbdv-field"})))),s.a.createElement("div",null,s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{className:"col-sm-2 col-form-label",htmlFor:"lastName"}," Last Name "),s.a.createElement("div",{className:"col-sm-10"},s.a.createElement("input",{id:"lastName",type:"text",value:this.state.lastName,className:"form-control wbdv-field"})))),s.a.createElement("div",null,s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{className:"col-sm-2 col-form-label",htmlFor:"email"}," Email "),s.a.createElement("div",{className:"col-sm-10"},s.a.createElement("input",{id:"email",type:"email",value:this.state.email,className:"form-control wbdv-field wbdv-email"})))),s.a.createElement("br",null),s.a.createElement("a",{className:"btn btn-danger wbdv-button wbdv-update",href:"/profile/watchlist"},"Back To Profile"),s.a.createElement("button",{onClick:this.update,className:"btn btn-success float-right wbdv-button wbdv-update"},"Update Profile"))}}]),a}(s.a.Component),M=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:""},e.login=function(){fetch("http://localhost:8080/api/login",{body:JSON.stringify({username:e.state.username,password:e.state.password}),headers:{"content-type":"application/json"},method:"POST",credentials:"include"}).then((function(e){return e.json()})).catch((function(t){e.props.history.push("/login")})).then((function(t){t&&e.props.history.push("/profile/watchlist")}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("h1",null,"Login"),s.a.createElement("input",{onChange:function(t){return e.setState({username:t.target.value})},className:"form-control"}),s.a.createElement("input",{onChange:function(t){return e.setState({password:t.target.value})},className:"form-control"}),s.a.createElement("button",{onClick:this.login,className:"btn btn-primary"},"Login"),s.a.createElement(v.b,{to:"/registration"},"Sign up"))}}]),a}(s.a.Component),T=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:"",role:"",firstName:"",lastName:"",email:""},e.register=function(){fetch("http://localhost:8080/api/register",{body:JSON.stringify({username:e.state.username,password:e.state.password,role:e.state.role,firstName:e.state.firstName,lastName:e.state.lastName,email:e.state.email}),headers:{"content-type":"application/json"},method:"POST",credentials:"include"}).then((function(e){return e.json()})).then((function(t){return e.props.history.push("/profile/watchlist")}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("h1",null,"Register"),s.a.createElement("input",{placeholder:"Username",onChange:function(t){return e.setState({username:t.target.value})},className:"form-control"}),s.a.createElement("input",{placeholder:"Password",onChange:function(t){return e.setState({password:t.target.value})},className:"form-control"}),s.a.createElement("select",{onChange:function(t){return e.setState({role:t.target.value})},value:this.state.role,className:"custom-select custom-select"},s.a.createElement("option",{selected:!0,disabled:!0}," Choose User Role"),s.a.createElement("option",{value:"LEADER"},"Group Leader"),s.a.createElement("option",{value:"MEMBER"},"Member")),s.a.createElement("input",{placeholder:"First Name",onChange:function(t){return e.setState({firstName:t.target.value})},className:"form-control"}),s.a.createElement("input",{placeholder:"Last Name",onChange:function(t){return e.setState({lastName:t.target.value})},className:"form-control"}),s.a.createElement("input",{placeholder:"Email",onChange:function(t){return e.setState({email:t.target.value})},className:"form-control"}),s.a.createElement("button",{onClick:this.register,className:"btn btn-primary"},"Register"),s.a.createElement(v.b,{to:"/login"},"Sign in"))}}]),a}(s.a.Component),L=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getCurrentUser=function(){return f().then((function(e){n.setState({user:e}),console.log("state user below"),console.log(n.state.user.id)}))},n.onCommentChange=function(e){return n.setState({commentText:e.target.value})},n.findPosts=function(){return(e=n.props.match.params.discId,fetch("http://localhost:8080/api/discussions/".concat(e)).then((function(e){return e.json()}))).then((function(e){n.setState({posts:e})}));var e},n.onPost=function(e){return(t=n.discussionId,a=n.state.user.id,s={message:n.state.commentText,date:new Date},fetch("http://localhost:8080/api/discussions/".concat(t,"/posts/").concat(a),{method:"POST",body:JSON.stringify(s),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))).then((function(e){n.findPosts()}));var t,a,s},n.discussionId=n.props.match.params.discId,n.state={commentText:"",posts:[],user:{id:10}},n.getCurrentUser=n.getCurrentUser.bind(Object(i.a)(n)),n.onCommentChange=n.onCommentChange.bind(Object(i.a)(n)),n.findPosts=n.findPosts.bind(Object(i.a)(n)),console.log("getting current user"),n.getCurrentUser(),console.log("done current user"),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.findPosts()}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h1",null,"Discussion Board"),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("textarea",{className:"form-control",value:this.state.commentText,onChange:this.onCommentChange,placeholder:"Discuss Here!"},"Discuss!"),s.a.createElement("button",{className:"btn btn-success",onClick:this.onPost},"Post"))),this.state.posts.map((function(e){return s.a.createElement("div",{key:e.id},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header"},"Username Here"),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"card-text"},e.message),s.a.createElement("button",{className:"btn btn-primary"},"Reply"))))})))}}]),a}(s.a.Component),R=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={shows:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;h("").then((function(t){return e.setState({shows:t})}))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h1",null,"What Are We Watching?"),s.a.createElement("h3",null,"Popular Movies"),console.log(this.state.shows),s.a.createElement("div",{className:"row container ml-0 p-0"},this.state.shows.map((function(e){return s.a.createElement(N,{mobileView:!0,layout:"",key:e.movie.ids.imdb,_id:e.movie.ids.imdb})}))))}}]),a}(s.a.Component),q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={userId:"",userRole:"",watchlist:[],posts:[],showId:n.props.match.params.showId,layout:n.props.match.params.layout},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8080/api/profile",{method:"POST",credentials:"include"}).then((function(e){return console.log(e),e.json()})).catch((function(t){e.props.history.push("/")})).then((function(t){t&&e.setState({userId:t.id,userRole:t.role})})).then((function(t){return fetch("https://wbdv-team18-final-project.herokuapp.com/api/users/".concat(e.state.userId,"/shows")).then((function(e){return e.json()})).then((function(t){return e.setState({watchlist:t})}))}))}},{key:"componentDidUpdate",value:function(e,t,a){e.match.params.showId!==this.props.match.params.showId&&this.setState({showId:this.props.match.params.showId}),e.match.params.layout!==this.props.match.params.layout&&this.setState({layout:this.props.match.params.layout})}},{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement("h1",null,"Group Page"))}}]),a}(s.a.Component);s.a.Component;var W=function(){return s.a.createElement(v.a,null,s.a.createElement("div",{className:"container"},s.a.createElement(D,null),s.a.createElement(w.a,{path:"/",exact:!0,component:R}),s.a.createElement(w.a,{path:"/search",exact:!0,component:g}),s.a.createElement(w.a,{path:"/search/:query",exact:!0,component:g}),s.a.createElement(w.a,{path:"/result/:imdb_id",exact:!0,component:y}),s.a.createElement(w.a,{path:"/profile/:layout",exact:!0,component:U}),s.a.createElement(w.a,{path:"/profile/:layout/:showId",exact:!0,component:U}),s.a.createElement(w.a,{path:"/profile/info",exact:!0,component:G}),s.a.createElement(w.a,{path:"/login",exact:!0,component:M}),s.a.createElement(w.a,{path:"/registration",exact:!0,component:T}),s.a.createElement(w.a,{path:"/discussions/:discId",exact:!0,render:function(e){var t=e.match;return s.a.createElement(L,{match:t})}}),s.a.createElement(w.a,{path:"/group/:groupId",exact:!0,component:q})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(39);o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.9bac415e.chunk.js.map